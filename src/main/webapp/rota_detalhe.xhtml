<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:adm="http://github.com/adminfaces"
	template="/WEB-INF/templates/template.xhtml">

	<ui:define name="title">
        Detalhe da Rota   #{rotaDetalheController.descricaoRota}
    </ui:define>

	<ui:define name="head-end">
		<style type="text/css">
.PainelTituloCinza .ui-panel-titlebar {
	background: #f4f4f4;
	color: white;
	font-weight: bold;
	font-family: verdana;
}
</style>
	</ui:define>

	<ui:param name="renderBreadCrumb" value="false" />

	<ui:define name="body">
		<f:metadata>
			<f:viewParam name="id" value="#{rotaDetalheController.id}"
				converter="javax.faces.Long" />
			<f:viewParam name="descricaoRota"
				value="#{rotaDetalheController.descricaoRota}" />
			<f:event listener="#{rotaDetalheController.inicializar()}"
				type="preRenderView"></f:event>
			<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		</f:metadata>

		<h:form id="form" prependId="false" acceptcharset="ISO-8859-1"
			lang="pt_BR">
			<p:focus />


			<div class="box box-primary">
				<div class="box-header with-border">
					<div id="main-buttons" class="hidden-sm hidden-xs">
						<p:commandButton value="Salvar" update="@form" icon="fa fa-check"
							styleClass="btn-primary" />
						<p:spacer width="5" />

						<p:spacer width="5" />
						<p:commandButton value="Voltar" immediate="true"
							action="lista-cidade?faces-redirect=true" process="@this"
							icon="fa fa-close" />

					</div>

					<p:splitButton value="Salvar" update="@form" icon="fa fa-check"
						styleClass="hidden-md hidden-lg btn-primary">
						<p:menuitem value="Excluir" process="@this" icon="fa fa-trash" />
						<p:separator />
						<p:menuitem value="Voltar"
							action="lista-cidade?faces-redirect=true" process="@this"
							icon="fa fa-close" />
					</p:splitButton>



					<p:separator />

					<div class="ui-fluid">

						<p:dataView var="item" value="#{rotaDetalheController.lista}"
							gridIcon="fa fa-th-large" listIcon="fa fa-bars">
							
							



							<p:dataViewListItem id="listaRotas">
								<p:panel header="#{item.cliente}" styleClass="PainelTituloCinza"
									style="background-color: #eceff4;">
									<h:panelGrid columns="5" style="width:100%; " cellpadding="40"
										cellspacing="40">



										<p:outputPanel>
										
									

											<h:panelGrid columns="1" style="width:100%">

												<a href="tel:#{item.telefone}"
													style="font-weight: bold; font-size: 18px">
													#{item.telefone} </a>
												<h:outputLabel value="#{item.endereco}" escape="false" />

												<p:commandLink title="View Detail">
													<h:outputText styleClass="ui-icon pi pi-search"
														style="margin:0 auto;" />
													<!-- <f:setPropertyActionListener value="#{car}"
												target="#{dataGridView.selectedCar}" /> -->
												</p:commandLink>
											</h:panelGrid>
										</p:outputPanel>

										<h:panelGrid columns="1" style="margin:10px 10px 10px 10px;">




											<p:commandLink title="Mapas"
												action="#{rotaDetalheController.abrirMaps(item)}"
												target="_blank">
												<h:outputText styleClass="fa fa-map-marker"
													style="margin:0 auto;    width:20%; font-size:30px; color:#1890ff " />
												<!-- <f:setPropertyActionListener value="#{car}"
												target="#{dataGridView.selectedCar}" /> -->
											</p:commandLink>
										</h:panelGrid>

										<h:panelGrid columns="1">

											<p:commandLink title="WhatsApp"
												action="#{rotaDetalheController.abrirWhatsApp(item)}">
												<h:outputText styleClass="fa fa-whatsapp"
													style="margin:0 auto;    width:20%; font-size:30px; color:#2cc64e " />
												<!-- <f:setPropertyActionListener value="#{car}"
												target="#{dataGridView.selectedCar}" /> -->
											</p:commandLink>

										</h:panelGrid>

										<h:panelGrid columns="1" style="margin:10px 10px 10px 10px;">

											<p:commandLink title="Discar"
												action="#{rotaDetalheController.abrirDiscador(item)}">
												<h:outputText styleClass="fa fa-phone"
													style="margin:0 auto;    width:20%; font-size:30px; color:#8e24aa " />
												<!-- <f:setPropertyActionListener value="#{car}"
												target="#{dataGridView.selectedCar}" /> -->
											</p:commandLink>


										</h:panelGrid>

										<h:panelGrid columns="1" id="painelConfirmacao" >

											<p:commandLink title="Checar"  id="btnconfirmar"
												action="#{rotaDetalheController.confirmarEntrega(item)}" update="painelConfirmacao">
												<h:outputText styleClass="fa fa-check-circle"
													style="margin:0 auto;    width:20%; font-size:30px; color:red " rendered="#{!item.localidadeEntregue}"
													  />
												<!-- <f:setPropertyActionListener value="#{car}"
												target="#{dataGridView.selectedCar}" /> -->
											</p:commandLink>
											
											 
												<h:outputText styleClass="fa fa-check-circle" title="Pedido Entregue"
													style="margin:0 auto;    width:20%; font-size:30px; color:green " rendered="#{item.localidadeEntregue}" />
												<!-- <f:setPropertyActionListener value="#{car}"
												target="#{dataGridView.selectedCar}" /> -->
										 


										</h:panelGrid>

									</h:panelGrid>

								</p:panel>
								<br />
							</p:dataViewListItem>
						</p:dataView>
					</div>
				</div>
			</div>
		</h:form>

	</ui:define>

</ui:composition>
